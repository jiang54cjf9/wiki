# 📝 vi 编辑器基本指令速查表

> `vi` 是 Linux/Unix 系统中常用的文本编辑器之一，轻量、快捷、功能强大。

---

## 🧭 模式说明

`vi` 主要有三种模式：

| 模式 | 说明 | 切换方法 |
|------|------|----------|
| **命令模式 (Command mode)** | 默认进入的模式，可执行删除、复制、粘贴、保存等操作 | 启动 vi 默认即为此模式 |
| **插入模式 (Insert mode)** | 用于输入/编辑文本 | 在命令模式下按 `i`、`a`、`o` 等进入 |
| **底行模式 (Last line mode)** | 执行保存、退出、查找替换等命令 | 在命令模式下按 `:` 进入 |

---

## ✏️ 插入文本（进入插入模式）

| 命令 | 说明 |
|------|------|
| `i` | 在光标前插入 |
| `I` | 在当前行行首插入 |
| `a` | 在光标后插入 |
| `A` | 在当前行行尾插入 |
| `o` | 在当前行下方新建一行并进入插入模式 |
| `O` | 在当前行上方新建一行并进入插入模式 |
| `Esc` | 退出插入模式，返回命令模式 |

---

## 💾 保存与退出

| 命令 | 说明 |
|------|------|
| `:w` | 保存文件 |
| `:q` | 退出 vi |
| `:wq` 或 `:x` | 保存并退出 |
| `:q!` | 强制退出（不保存） |
| `:w filename` | 另存为指定文件 |
| `ZZ` | 保存并退出（命令模式下直接输入） |

---

## 🧹 删除操作

| 命令 | 说明 |
|------|------|
| `x` | 删除光标所在字符 |
| `dd` | 删除整行 |
| `5dd` | 删除当前行起的 5 行 |
| `D` | 删除光标后到行尾的内容 |
| `:1,5d` | 删除第 1~5 行 |

---

## 📋 复制与粘贴

| 命令 | 说明 |
|------|------|
| `yy` | 复制当前行 |
| `5yy` | 复制 5 行 |
| `p` | 在光标后粘贴 |
| `P` | 在光标前粘贴 |

---

## 🔁 撤销与重做

| 命令 | 说明 |
|------|------|
| `u` | 撤销上一步操作 |
| `U` | 撤销对整行的所有修改 |
| `Ctrl + r` | 重做上一步撤销的操作 |

---

## 🔍 查找与替换

| 命令 | 说明 |
|------|------|
| `/word` | 向下搜索 “word” |
| `?word` | 向上搜索 “word” |
| `n` | 重复上一次搜索（同方向） |
| `N` | 反向重复上一次搜索 |
| `:s/old/new/` | 替换当前行第一个匹配项 |
| `:s/old/new/g` | 替换当前行所有匹配项 |
| `:%s/old/new/g` | 替换整个文件所有匹配项 |
| `:%s/old/new/gc` | 替换前逐个确认 |

---

## 🧭 光标移动

| 命令 | 说明 |
|------|------|
| `h` | 左移一个字符 |
| `l` | 右移一个字符 |
| `j` | 下移一行 |
| `k` | 上移一行 |
| `0` | 移到行首 |
| `$` | 移到行尾 |
| `gg` | 移到文件开头 |
| `G` | 移到文件末尾 |
| `:n` | 跳到第 n 行 |

---

## 🔢 组合命令示例

| 示例 | 说明 |
|------|------|
| `3dd` | 删除 3 行 |
| `2yy` | 复制 2 行 |
| `5p` | 粘贴 5 次 |
| `:10,20s/foo/bar/g` | 将第 10~20 行的 “foo” 替换为 “bar” |

---

## 💡 小技巧

- `Esc` 是最常用的键之一，遇到不确定状态时多按几次。
- 命令模式下可以随时输入 `:help` 查看帮助。
- 若不熟悉 vi，可使用 `vimtutor` 练习教程。

---

📘 **推荐阅读**
- 官方教程：`vimtutor`
- 在线文档：[https://www.vim.org/docs.php](https://www.vim.org/docs.php)
